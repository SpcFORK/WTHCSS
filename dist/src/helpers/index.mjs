// src/WTFCss/src/helpers/@charset.js
var charset = (charsetValue) => `@charset "${charsetValue}";`;
var charset_default = charset;

// src/WTFCss/src/helpers/@colorprofile.js
var defineColorProfile = (name, src, renderingIntent) => {
  let profileRule = `@color-profile ${name} {
  src: url("${src}")`;
  if (renderingIntent) {
    profileRule += `;
  rendering-intent: ${renderingIntent}`;
  }
  profileRule += ";\n}";
  return profileRule;
};
var colorprofile_default = defineColorProfile;

// src/WTFCss/src/helpers/@container.js
var applyContainerStyles = (name, condition, styles) => {
  let containerRule = `@container ${name ? name + " " : ""}(${condition}) {
${styles}
}`;
  return containerRule;
};
var container_default = applyContainerStyles;

// src/WTFCss/src/helpers/@property.js
var registerProperty = (name, syntax, inherits, initialValue) => {
  return {
    [`@property ${name}`]: "{ " + !syntax + !inherits + !initialValue + " }"
  };
};
var property_default = registerProperty;

// src/WTFCss/src/helpers/@counterstyle.js
var defineCounterStyle = (name, rules) => {
  if (["decimal", "disc", "square", "circle", "disclosure-open", "disclosure-closed"].includes(name.toLowerCase())) {
    throw new Error(`The name "${name}" is not allowed for custom counter styles.`);
  }
  const ruleEntries = Object.entries(rules).map(([descriptor, value]) => {
    if (descriptor === "symbols" || descriptor === "additive-symbols") {
      value = value.map((symbol) => `"${symbol}"`).join(" ");
    }
    return `${descriptor}: ${value}`;
  });
  const ruleString = ruleEntries.join("; ");
  const counterRule = `@counter-style ${name} { ${ruleString} }`;
  return counterRule;
};
var counterstyle_default = defineCounterStyle;

// src/WTFCss/src/helpers/@fontface.js
var defineFontFace = (fontFace) => {
  const fontFaceRule = `@font-face {
    font-family: "${fontFace.family}";
    src: ${fontFace.sources.map((source) => {
    if (source.url) {
      return `url("${source.url}") format("${source.format}")`;
    } else if (source.local) {
      return `local("${source.local}")`;
    }
    return "";
  }).join(",\n    ")};
    ${fontFace.descriptors ? Object.entries(fontFace.descriptors).map(([key, value]) => `${key}: ${value}`).join(";\n    ") : ""}
  }`;
  return fontFaceRule;
};
var fontface_default = defineFontFace;

// src/WTFCss/src/helpers/@fontfeaturevalues.js
var defineFontFeatureValues = (familyName, featureValues) => {
  const featureBlocks = Object.entries(featureValues).map(([feature, values]) => {
    const valueString = Array.isArray(values) ? values.join(" ") : values;
    return `@${feature} { ${familyName}: ${valueString}; }`;
  }).join("\n");
  return `@font-feature-values ${familyName} {
${featureBlocks}
}`;
};
var fontfeaturevalues_default = defineFontFeatureValues;

// src/WTFCss/src/helpers/@fontpalletevalues.js
var defineFontPaletteValues = (identifier, familyName, basePalette, overrideColors) => {
  const declarations = [];
  if (familyName)
    declarations.push(`font-family: ${familyName};`);
  if (basePalette)
    declarations.push(`base-palette: ${basePalette};`);
  if (overrideColors) {
    const colorOverrides = overrideColors.map((color) => color.join(" ")).join(",\n    ");
    declarations.push(`override-colors:
    ${colorOverrides};`);
  }
  return `@font-palette-values ${identifier} {
  ${declarations.join("\n  ")}
}`;
};
var fontpalletevalues_default = defineFontPaletteValues;

// src/WTFCss/src/helpers/@import.js
var defineImport = (importPath, mediaQueries = "", supportsCondition = "", layerName = "") => {
  let importRule = `@import url(${importPath})`;
  if (layerName) {
    importRule += ` layer(${layerName})`;
  }
  if (supportsCondition) {
    importRule += ` supports(${supportsCondition})`;
  }
  if (mediaQueries) {
    importRule += ` ${mediaQueries}`;
  }
  importRule += ";";
  return importRule;
};
var import_default = defineImport;

// src/WTFCss/src/helpers/@keyframes.js
var defineKeyframes = (name, frames) => {
  if (typeof name !== "string" || !Array.isArray(frames)) {
    throw new TypeError("Invalid arguments for defineKeyframes.");
  }
  const keyframeRules = frames.map((frame) => {
    const offset = Object.keys(frame)[0];
    const properties = Object.entries(frame[offset]).map(([prop, value]) => {
      return `${prop}: ${value}`;
    }).join("; ");
    return `${offset} { ${properties} }`;
  }).join(" ");
  return `@keyframes ${name} { ${keyframeRules} }`;
};
var keyframes_default = defineKeyframes;

// src/WTFCss/src/helpers/@layer.js
var defineLayer = (name, rules) => {
  if (!name || typeof rules !== "object") {
    throw new TypeError("Invalid arguments for defineLayer.");
  }
  const layerRules = Object.entries(rules).map(([selector, styleRules]) => {
    const styleString = Object.entries(styleRules).map(([property, value]) => `${property}: ${value};`).join(" ");
    return `${selector} { ${styleString} }`;
  }).join(" ");
  return `@layer ${name} { ${layerRules} }`;
};
var defineLayerOrder = (...names) => `@layer ` + names.join(" ");
var layer_default = {
  defineLayer,
  defineLayerOrder
};

// src/WTFCss/src/helpers/@media.js
var defineMedia = (mediaQuery, styles) => {
  if (typeof mediaQuery !== "string" || typeof styles !== "object") {
    throw new TypeError("Invalid arguments for defineMedia.");
  }
  const styleEntries = Object.entries(styles).map(([selector, styleRules]) => {
    const styleString = Object.entries(styleRules).map(([property, value]) => `${property}: ${value};`).join(" ");
    return `${selector} { ${styleString} }`;
  }).join(" ");
  return `@media ${mediaQuery} { ${styleEntries} }`;
};
var media_default = defineMedia;

// src/WTFCss/src/helpers/@namespace.js
var defineNamespace = (prefix, uri) => {
  if (!uri) {
    throw new Error("URI for namespace is required.");
  }
  const namespacePrefix = prefix ? `${prefix} ` : "";
  return `@namespace ${namespacePrefix}url(${uri});`;
};
var namespace_default = defineNamespace;

// src/WTFCss/src/helpers/@page.js
var definePage = (name, styles) => {
  if (typeof styles !== "object") {
    throw new TypeError("Styles must be an object.");
  }
  const styleEntries = Object.entries(styles).map(([property, value]) => {
    if (!/^margin-|^border-|^padding-|^background-|^font-|^text-|^color$|^outline$|^counter-|^width$|^height$|^line-height$|^quotes$|^visibility$/.test(property)) {
      throw new Error(`Property "${property}" is not allowed within @page rule.`);
    }
    return `${property}: ${value};`;
  }).join(" ");
  const pageRule = `@page ${name} { ${styleEntries} }`;
  return pageRule;
};
var page_default = definePage;

// src/WTFCss/src/helpers/@startingstyle.js
var defineStartingStyle = (selector, properties) => {
  const propertyEntries = Object.entries(properties).map(([property, value]) => {
    return `${property}: ${value};`;
  }).join(" ");
  const startingStyleRule = `@starting-style {
  ${selector} { ${propertyEntries} }
}`;
  return startingStyleRule;
};
var startingstyle_default = defineStartingStyle;

// src/WTFCss/src/helpers/@supports.js
var defineSupports = (supportsCondition, rules) => {
  const conditionString = supportsCondition.map((condition) => `(${condition})`).join(" and ");
  const rulesString = Object.entries(rules).map(([selector, styles]) => {
    const styleString = Object.entries(styles).map(([property, value]) => `${property}: ${value};`).join(" ");
    return `${selector} { ${styleString} }`;
  }).join(" ");
  return `@supports ${conditionString} { ${rulesString} }`;
};
var supports_default = defineSupports;

// src/WTFCss/src/helpers/index.js
var helpers_default = {
  charsets: charset_default,
  colorProfiles: colorprofile_default,
  container: container_default,
  property: property_default,
  counterStyles: counterstyle_default,
  fontFaces: fontface_default,
  fontFeatureValues: fontfeaturevalues_default,
  fontPaletteValues: fontpalletevalues_default,
  importer: import_default,
  keyframes: keyframes_default,
  layer: layer_default,
  media: media_default,
  namespace: namespace_default,
  pages: page_default,
  startingStyles: startingstyle_default,
  supports: supports_default
};
export {
  charset_default as charsets,
  colorprofile_default as colorProfiles,
  container_default as container,
  counterstyle_default as counterStyles,
  helpers_default as default,
  fontface_default as fontFaces,
  fontfeaturevalues_default as fontFeatureValues,
  fontpalletevalues_default as fontPaletteValues,
  import_default as importer,
  keyframes_default as keyframes,
  layer_default as layer,
  media_default as media,
  namespace_default as namespace,
  page_default as pages,
  property_default as property,
  startingstyle_default as startingStyles,
  supports_default as supports
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vc3JjL1dURkNzcy9zcmMvaGVscGVycy9AY2hhcnNldC5qcyIsICIuLi8uLi8uLi9zcmMvV1RGQ3NzL3NyYy9oZWxwZXJzL0Bjb2xvcnByb2ZpbGUuanMiLCAiLi4vLi4vLi4vc3JjL1dURkNzcy9zcmMvaGVscGVycy9AY29udGFpbmVyLmpzIiwgIi4uLy4uLy4uL3NyYy9XVEZDc3Mvc3JjL2hlbHBlcnMvQHByb3BlcnR5LmpzIiwgIi4uLy4uLy4uL3NyYy9XVEZDc3Mvc3JjL2hlbHBlcnMvQGNvdW50ZXJzdHlsZS5qcyIsICIuLi8uLi8uLi9zcmMvV1RGQ3NzL3NyYy9oZWxwZXJzL0Bmb250ZmFjZS5qcyIsICIuLi8uLi8uLi9zcmMvV1RGQ3NzL3NyYy9oZWxwZXJzL0Bmb250ZmVhdHVyZXZhbHVlcy5qcyIsICIuLi8uLi8uLi9zcmMvV1RGQ3NzL3NyYy9oZWxwZXJzL0Bmb250cGFsbGV0ZXZhbHVlcy5qcyIsICIuLi8uLi8uLi9zcmMvV1RGQ3NzL3NyYy9oZWxwZXJzL0BpbXBvcnQuanMiLCAiLi4vLi4vLi4vc3JjL1dURkNzcy9zcmMvaGVscGVycy9Aa2V5ZnJhbWVzLmpzIiwgIi4uLy4uLy4uL3NyYy9XVEZDc3Mvc3JjL2hlbHBlcnMvQGxheWVyLmpzIiwgIi4uLy4uLy4uL3NyYy9XVEZDc3Mvc3JjL2hlbHBlcnMvQG1lZGlhLmpzIiwgIi4uLy4uLy4uL3NyYy9XVEZDc3Mvc3JjL2hlbHBlcnMvQG5hbWVzcGFjZS5qcyIsICIuLi8uLi8uLi9zcmMvV1RGQ3NzL3NyYy9oZWxwZXJzL0BwYWdlLmpzIiwgIi4uLy4uLy4uL3NyYy9XVEZDc3Mvc3JjL2hlbHBlcnMvQHN0YXJ0aW5nc3R5bGUuanMiLCAiLi4vLi4vLi4vc3JjL1dURkNzcy9zcmMvaGVscGVycy9Ac3VwcG9ydHMuanMiLCAiLi4vLi4vLi4vc3JjL1dURkNzcy9zcmMvaGVscGVycy9pbmRleC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyoqXG4gKiBEZWZpbmVzIGEgY2hhcnNldCBmb3IgYSBDU1MgZmlsZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hhcnNldFZhbHVlIC0gVGhlIGNoYXJzZXQgdG8gYmUgc2V0IGZvciB0aGUgQ1NTIGZpbGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIEBjaGFyc2V0IHJ1bGUuXG4gKi9cbmV4cG9ydCBjb25zdCBjaGFyc2V0ID0gY2hhcnNldFZhbHVlID0+IGBAY2hhcnNldCBcIiR7Y2hhcnNldFZhbHVlfVwiO2BcbmV4cG9ydCBkZWZhdWx0IGNoYXJzZXQ7IiwgIi8qKlxuICogRGVmaW5lcyBhIGNvbG9yIHByb2ZpbGUgZm9yIHVzZSBpbiBDU1MuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjb2xvciBwcm9maWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSBVUkwgb2YgdGhlIGNvbG9yIHByb2ZpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3JlbmRlcmluZ0ludGVudF0gLSBUaGUgcmVuZGVyaW5nIGludGVudCB0byB1c2UuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZpbmVDb2xvclByb2ZpbGUgPSAobmFtZSwgc3JjLCByZW5kZXJpbmdJbnRlbnQpID0+IHtcbiAgbGV0IHByb2ZpbGVSdWxlID0gYEBjb2xvci1wcm9maWxlICR7bmFtZX0ge1xcbiAgc3JjOiB1cmwoXFxcIiR7c3JjfVxcXCIpYDtcblxuICBpZiAocmVuZGVyaW5nSW50ZW50KSB7XG4gICAgcHJvZmlsZVJ1bGUgKz0gYDtcXG4gIHJlbmRlcmluZy1pbnRlbnQ6ICR7cmVuZGVyaW5nSW50ZW50fWA7XG4gIH1cblxuICBwcm9maWxlUnVsZSArPSAnO1xcbn0nO1xuXG4gIHJldHVybiBwcm9maWxlUnVsZTtcbn1cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbG9yUHJvZmlsZSIsICIvKipcbiAqIEFwcGxpZXMgc3R5bGVzIHRvIGEgY29udGFpbm1lbnQgY29udGV4dCBiYXNlZCBvbiBhIGNvbmRpdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG9wdGlvbmFsIG5hbWUgb2YgdGhlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb25kaXRpb24gLSBUaGUgY29udGFpbmVyIHF1ZXJ5IGNvbmRpdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZXMgLSBUaGUgQ1NTIHN0eWxlcyB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCBAY29udGFpbmVyIHJ1bGUuXG4gKi9cbmV4cG9ydCBjb25zdCBhcHBseUNvbnRhaW5lclN0eWxlcyA9IChuYW1lLCBjb25kaXRpb24sIHN0eWxlcykgPT4ge1xuICBsZXQgY29udGFpbmVyUnVsZSA9IGBAY29udGFpbmVyICR7bmFtZSA/IG5hbWUgKyAnICcgOiAnJ30oJHtjb25kaXRpb259KSB7XFxuJHtzdHlsZXN9XFxufWA7XG4gIHJldHVybiBjb250YWluZXJSdWxlO1xufVxuZXhwb3J0IGRlZmF1bHQgYXBwbHlDb250YWluZXJTdHlsZXMiLCAiLyoqXG4gKiBSZWdpc3RlcnMgYSBjdXN0b20gQ1NTIHByb3BlcnR5IHVzaW5nIHRoZSBAcHJvcGVydHkgcnVsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzeW50YXggLSBEZXNjcmliZXMgdGhlIGFsbG93YWJsZSBzeW50YXggZm9yIHRoZSBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdHMgLSBDb250cm9scyB3aGV0aGVyIHRoZSBjdXN0b20gcHJvcGVydHkgaW5oZXJpdHMgYnkgZGVmYXVsdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpbml0aWFsVmFsdWUgLSBTZXRzIHRoZSBpbml0aWFsIHZhbHVlIGZvciB0aGUgcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZm9ybWF0dGVkIEBwcm9wZXJ0eSBydWxlLlxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJQcm9wZXJ0eSA9IChuYW1lLCBzeW50YXgsIGluaGVyaXRzLCBpbml0aWFsVmFsdWUpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBbYEBwcm9wZXJ0eSAke25hbWV9YF06IChcbiAgICAgIFwieyBcIiArXG4gICAgICAoIXN5bnRheCA/PyBgc3ludGF4OiBcIiR7c3ludGF4fVwiOyBgKSArXG4gICAgICAoIWluaGVyaXRzID8/IGBpbmhlcml0czogJHtpbmhlcml0c307IGApICtcbiAgICAgICghaW5pdGlhbFZhbHVlID8/IGBpbml0aWFsLXZhbHVlOiAke2luaXRpYWxWYWx1ZX07YCkgK1xuICAgICAgXCIgfVwiXG4gICAgKVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCByZWdpc3RlclByb3BlcnR5IiwgIi8qKlxuICogRGVmaW5lcyBhIGN1c3RvbSBjb3VudGVyIHN0eWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY291bnRlciBzdHlsZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBydWxlcyAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBkZXNjcmlwdG9ycyBhbmQgdmFsdWVzIGZvciB0aGUgc3R5bGUuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIG5hbWUgaXMgb25lIG9mIHRoZSByZXNlcnZlZCBzdHlsZSBuYW1lcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgQGNvdW50ZXItc3R5bGUgcnVsZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmluZUNvdW50ZXJTdHlsZSA9IChuYW1lLCBydWxlcykgPT4ge1xuICBpZiAoWydkZWNpbWFsJywgJ2Rpc2MnLCAnc3F1YXJlJywgJ2NpcmNsZScsICdkaXNjbG9zdXJlLW9wZW4nLCAnZGlzY2xvc3VyZS1jbG9zZWQnXS5pbmNsdWRlcyhuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgbmFtZSBcIiR7bmFtZX1cIiBpcyBub3QgYWxsb3dlZCBmb3IgY3VzdG9tIGNvdW50ZXIgc3R5bGVzLmApO1xuICB9XG5cbiAgY29uc3QgcnVsZUVudHJpZXMgPSBPYmplY3QuZW50cmllcyhydWxlcykubWFwKChbZGVzY3JpcHRvciwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKGRlc2NyaXB0b3IgPT09ICdzeW1ib2xzJyB8fCBkZXNjcmlwdG9yID09PSAnYWRkaXRpdmUtc3ltYm9scycpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKHN5bWJvbCA9PiBgXFxcIiR7c3ltYm9sfVxcXCJgKS5qb2luKCcgJyk7XG4gICAgfVxuICAgIHJldHVybiBgJHtkZXNjcmlwdG9yfTogJHt2YWx1ZX1gO1xuICB9KTtcbiAgY29uc3QgcnVsZVN0cmluZyA9IHJ1bGVFbnRyaWVzLmpvaW4oJzsgJyk7XG4gIGNvbnN0IGNvdW50ZXJSdWxlID0gYEBjb3VudGVyLXN0eWxlICR7bmFtZX0geyAke3J1bGVTdHJpbmd9IH1gO1xuXG4gIHJldHVybiBjb3VudGVyUnVsZVxufVxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ291bnRlclN0eWxlIiwgIi8qKlxuICogQ3JlYXRlcyBhIENTUyBAZm9udC1mYWNlIHJ1bGUgc3RyaW5nLlxuICogQHBhcmFtIHtvYmplY3R9IGZvbnRGYWNlIC0gQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgZm9udCBmYWNlIGNvbmZpZ3VyYXRpb24uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIEBmb250LWZhY2UgcnVsZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmluZUZvbnRGYWNlID0gZm9udEZhY2UgPT4ge1xuICBjb25zdCBmb250RmFjZVJ1bGUgPSBgQGZvbnQtZmFjZSB7XG4gICAgZm9udC1mYW1pbHk6IFwiJHtmb250RmFjZS5mYW1pbHl9XCI7XG4gICAgc3JjOiAke2ZvbnRGYWNlLnNvdXJjZXMubWFwKHNvdXJjZSA9PiB7XG4gICAgICBpZiAoc291cmNlLnVybCkge1xuICAgICAgICByZXR1cm4gYHVybChcIiR7c291cmNlLnVybH1cIikgZm9ybWF0KFwiJHtzb3VyY2UuZm9ybWF0fVwiKWA7XG4gICAgICB9IGVsc2UgaWYgKHNvdXJjZS5sb2NhbCkge1xuICAgICAgICByZXR1cm4gYGxvY2FsKFwiJHtzb3VyY2UubG9jYWx9XCIpYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9KS5qb2luKCcsXFxuICAgICcpfTtcbiAgICAke2ZvbnRGYWNlLmRlc2NyaXB0b3JzID8gT2JqZWN0LmVudHJpZXMoZm9udEZhY2UuZGVzY3JpcHRvcnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBgJHtrZXl9OiAke3ZhbHVlfWApLmpvaW4oJztcXG4gICAgJykgOiAnJ31cbiAgfWA7XG5cbiAgcmV0dXJuIGZvbnRGYWNlUnVsZVxufTtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUZvbnRGYWNlIiwgIi8qKlxuICogRGVmaW5lcyBmb250IGZlYXR1cmUgdmFsdWVzIGZvciBhIGdpdmVuIGZvbnQgZmFtaWx5LlxuICogQHBhcmFtIHtzdHJpbmd9IGZhbWlseU5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZm9udCBmYW1pbHkuXG4gKiBAcGFyYW0ge29iamVjdH0gZmVhdHVyZVZhbHVlcyAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmZWF0dXJlIHRhZ3MgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCBAZm9udC1mZWF0dXJlLXZhbHVlcyBydWxlLlxuICovXG5leHBvcnQgY29uc3QgZGVmaW5lRm9udEZlYXR1cmVWYWx1ZXMgPSAoZmFtaWx5TmFtZSwgZmVhdHVyZVZhbHVlcykgPT4ge1xuICBjb25zdCBmZWF0dXJlQmxvY2tzID0gT2JqZWN0LmVudHJpZXMoZmVhdHVyZVZhbHVlcykubWFwKChbZmVhdHVyZSwgdmFsdWVzXSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlU3RyaW5nID0gQXJyYXkuaXNBcnJheSh2YWx1ZXMpID8gdmFsdWVzLmpvaW4oJyAnKSA6IHZhbHVlcztcbiAgICByZXR1cm4gYEAke2ZlYXR1cmV9IHsgJHtmYW1pbHlOYW1lfTogJHt2YWx1ZVN0cmluZ307IH1gO1xuICB9KS5qb2luKCdcXG4nKTtcbiAgcmV0dXJuIGBAZm9udC1mZWF0dXJlLXZhbHVlcyAke2ZhbWlseU5hbWV9IHtcXG4ke2ZlYXR1cmVCbG9ja3N9XFxufWA7XG59O1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lRm9udEZlYXR1cmVWYWx1ZXMiLCAiLyoqXG4gKiBEZWZpbmVzIGZvbnQgcGFsZXR0ZSB2YWx1ZXMgZm9yIGEgZ2l2ZW4gaWRlbnRpZmllci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyIC0gVGhlIGlkZW50aWZpZXIgZm9yIHRoZSBmb250IHBhbGV0dGUgdmFsdWVzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtmYW1pbHlOYW1lXSAtIFRoZSBuYW1lIG9mIHRoZSBmb250IGZhbWlseS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVBhbGV0dGVdIC0gVGhlIGJhc2UgcGFsZXR0ZSBvZiB0aGUgZm9udC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8c3RyaW5nPj59IFtvdmVycmlkZUNvbG9yc10gLSBBbiBhcnJheSBvZiBjb2xvciBvdmVycmlkZXMuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIEBmb250LXBhbGV0dGUtdmFsdWVzIHJ1bGUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZpbmVGb250UGFsZXR0ZVZhbHVlcyA9IChpZGVudGlmaWVyLCBmYW1pbHlOYW1lLCBiYXNlUGFsZXR0ZSwgb3ZlcnJpZGVDb2xvcnMpID0+IHtcbiAgY29uc3QgZGVjbGFyYXRpb25zID0gW107XG4gIGlmIChmYW1pbHlOYW1lKSBkZWNsYXJhdGlvbnMucHVzaChgZm9udC1mYW1pbHk6ICR7ZmFtaWx5TmFtZX07YCk7XG4gIGlmIChiYXNlUGFsZXR0ZSkgZGVjbGFyYXRpb25zLnB1c2goYGJhc2UtcGFsZXR0ZTogJHtiYXNlUGFsZXR0ZX07YCk7XG4gIGlmIChvdmVycmlkZUNvbG9ycykge1xuICAgIGNvbnN0IGNvbG9yT3ZlcnJpZGVzID0gb3ZlcnJpZGVDb2xvcnMubWFwKGNvbG9yID0+IGNvbG9yLmpvaW4oJyAnKSkuam9pbignLFxcbiAgICAnKTtcbiAgICBkZWNsYXJhdGlvbnMucHVzaChgb3ZlcnJpZGUtY29sb3JzOlxcbiAgICAke2NvbG9yT3ZlcnJpZGVzfTtgKTtcbiAgfVxuXG4gIHJldHVybiBgQGZvbnQtcGFsZXR0ZS12YWx1ZXMgJHtpZGVudGlmaWVyfSB7XFxuICAke2RlY2xhcmF0aW9ucy5qb2luKCdcXG4gICcpfVxcbn1gO1xufVxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lRm9udFBhbGV0dGVWYWx1ZXMiLCAiLyoqXG4gKiBDcmVhdGVzIGFuIEBpbXBvcnQgcnVsZSB3aXRoIG9wdGlvbmFsIGNvbmRpdGlvbnMgYW5kIGxheWVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGltcG9ydFBhdGggLSBUaGUgVVJMIG9mIHRoZSBmaWxlIHRvIGJlIGltcG9ydGVkLlxuICogQHBhcmFtIHtzdHJpbmd9IFttZWRpYVF1ZXJpZXNdIC0gVGhlIG1lZGlhIHF1ZXJ5IGNvbmRpdGlvbnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N1cHBvcnRzQ29uZGl0aW9uXSAtIFRoZSBzdXBwb3J0cyBjb25kaXRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gW2xheWVyTmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgbGF5ZXIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBjb21wbGV0ZSBAaW1wb3J0IHJ1bGUgYXMgYSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZpbmVJbXBvcnQgPSAoaW1wb3J0UGF0aCwgbWVkaWFRdWVyaWVzID0gJycsIHN1cHBvcnRzQ29uZGl0aW9uID0gJycsIGxheWVyTmFtZSA9ICcnKSA9PiB7XG4gIGxldCBpbXBvcnRSdWxlID0gYEBpbXBvcnQgdXJsKCR7aW1wb3J0UGF0aH0pYDtcblxuICBpZiAobGF5ZXJOYW1lKSB7XG4gICAgaW1wb3J0UnVsZSArPSBgIGxheWVyKCR7bGF5ZXJOYW1lfSlgO1xuICB9XG5cbiAgaWYgKHN1cHBvcnRzQ29uZGl0aW9uKSB7XG4gICAgaW1wb3J0UnVsZSArPSBgIHN1cHBvcnRzKCR7c3VwcG9ydHNDb25kaXRpb259KWA7XG4gIH1cblxuICBpZiAobWVkaWFRdWVyaWVzKSB7XG4gICAgaW1wb3J0UnVsZSArPSBgICR7bWVkaWFRdWVyaWVzfWA7XG4gIH1cblxuICBpbXBvcnRSdWxlICs9ICc7JztcblxuICByZXR1cm4gaW1wb3J0UnVsZTtcbn1cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUltcG9ydCIsICIvKipcbiAqIERlZmluZXMga2V5ZnJhbWUgYW5pbWF0aW9ucy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGFuaW1hdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gZnJhbWVzIC0gQW4gYXJyYXkgb2Ygb2JqZWN0cyByZXByZXNlbnRpbmcgdGhlIGtleWZyYW1lcy5cbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgdGhlIGFyZ3VtZW50cyBhcmUgbm90IGEgc3RyaW5nIGFuZCBhbiBhcnJheSBvZiBvYmplY3RzLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCBAa2V5ZnJhbWVzIHJ1bGUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZpbmVLZXlmcmFtZXMgPSAobmFtZSwgZnJhbWVzKSA9PiB7XG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgIUFycmF5LmlzQXJyYXkoZnJhbWVzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzIGZvciBkZWZpbmVLZXlmcmFtZXMuJyk7XG4gIH1cblxuICBjb25zdCBrZXlmcmFtZVJ1bGVzID0gZnJhbWVzLm1hcChmcmFtZSA9PiB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gT2JqZWN0LmtleXMoZnJhbWUpWzBdO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3QuZW50cmllcyhmcmFtZVtvZmZzZXRdKS5tYXAoKFtwcm9wLCB2YWx1ZV0pID0+IHtcbiAgICAgIHJldHVybiBgJHtwcm9wfTogJHt2YWx1ZX1gO1xuICAgIH0pLmpvaW4oJzsgJyk7XG5cbiAgICByZXR1cm4gYCR7b2Zmc2V0fSB7ICR7cHJvcGVydGllc30gfWA7XG4gIH0pLmpvaW4oJyAnKTtcblxuICByZXR1cm4gYEBrZXlmcmFtZXMgJHtuYW1lfSB7ICR7a2V5ZnJhbWVSdWxlc30gfWA7XG59O1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lS2V5ZnJhbWVzIiwgIi8qKlxuICogRGVmaW5lcyBhIENTUyBsYXllciBhbmQgaXRzIGFzc29jaWF0ZWQgc3R5bGUgcnVsZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBsYXllci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBydWxlcyAtIEFuIG9iamVjdCBtYXBwaW5nIHNlbGVjdG9ycyB0byB0aGVpciByZXNwZWN0aXZlIHN0eWxlIHJ1bGVzLlxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiB0aGUgYXJndW1lbnRzIGFyZSBub3QgYSBzdHJpbmcgYW5kIGFuIG9iamVjdCBvZiBzdHlsZSBydWxlcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgQGxheWVyIHJ1bGUgYXMgYSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZpbmVMYXllciA9IChuYW1lLCBydWxlcykgPT4ge1xuICBpZiAoIW5hbWUgfHwgdHlwZW9mIHJ1bGVzICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzIGZvciBkZWZpbmVMYXllci4nKTtcbiAgfVxuXG4gIGNvbnN0IGxheWVyUnVsZXMgPSBPYmplY3QuZW50cmllcyhydWxlcykubWFwKChbc2VsZWN0b3IsIHN0eWxlUnVsZXNdKSA9PiB7XG4gICAgY29uc3Qgc3R5bGVTdHJpbmcgPSBPYmplY3QuZW50cmllcyhzdHlsZVJ1bGVzKS5tYXAoKFtwcm9wZXJ0eSwgdmFsdWVdKSA9PiBgJHtwcm9wZXJ0eX06ICR7dmFsdWV9O2ApLmpvaW4oJyAnKTtcbiAgICByZXR1cm4gYCR7c2VsZWN0b3J9IHsgJHtzdHlsZVN0cmluZ30gfWA7XG4gIH0pLmpvaW4oJyAnKTtcblxuICByZXR1cm4gYEBsYXllciAke25hbWV9IHsgJHtsYXllclJ1bGVzfSB9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWZpbmVMYXllck9yZGVyID0gKC4uLm5hbWVzKSA9PiAoYEBsYXllciBgICsgbmFtZXMuam9pbignICcpKVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGRlZmluZUxheWVyLFxuICBkZWZpbmVMYXllck9yZGVyXG59IiwgIi8qKlxuICogRGVmaW5lcyBhIENTUyBtZWRpYSBxdWVyeSBhbmQgaXRzIGFzc29jaWF0ZWQgc3R5bGUgcnVsZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVkaWFRdWVyeSAtIFRoZSBtZWRpYSBxdWVyeSBzdHJpbmcuXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGVzIC0gQW4gb2JqZWN0IG1hcHBpbmcgc2VsZWN0b3JzIHRvIHRoZWlyIHJlc3BlY3RpdmUgc3R5bGUgcnVsZXMuXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIHRoZSBhcmd1bWVudHMgYXJlIG5vdCBhIHN0cmluZyBhbmQgYW4gb2JqZWN0IG9mIHN0eWxlIHJ1bGVzLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCBAbWVkaWEgcnVsZSBhcyBhIHN0cmluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmluZU1lZGlhID0gKG1lZGlhUXVlcnksIHN0eWxlcykgPT4ge1xuICBpZiAodHlwZW9mIG1lZGlhUXVlcnkgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBzdHlsZXMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhcmd1bWVudHMgZm9yIGRlZmluZU1lZGlhLicpO1xuICB9XG5cbiAgY29uc3Qgc3R5bGVFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoc3R5bGVzKS5tYXAoKFtzZWxlY3Rvciwgc3R5bGVSdWxlc10pID0+IHtcbiAgICBjb25zdCBzdHlsZVN0cmluZyA9IE9iamVjdC5lbnRyaWVzKHN0eWxlUnVsZXMpLm1hcCgoW3Byb3BlcnR5LCB2YWx1ZV0pID0+IGAke3Byb3BlcnR5fTogJHt2YWx1ZX07YCkuam9pbignICcpO1xuICAgIHJldHVybiBgJHtzZWxlY3Rvcn0geyAke3N0eWxlU3RyaW5nfSB9YDtcbiAgfSkuam9pbignICcpO1xuXG4gIHJldHVybiBgQG1lZGlhICR7bWVkaWFRdWVyeX0geyAke3N0eWxlRW50cmllc30gfWA7XG59O1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lTWVkaWEiLCAiLyoqXG4gKiBEZWZpbmVzIGEgQ1NTIG5hbWVzcGFjZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4XSAtIFRoZSBvcHRpb25hbCBwcmVmaXggZm9yIHRoZSBuYW1lc3BhY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJpIC0gVGhlIFVSSSBvZiB0aGUgbmFtZXNwYWNlLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBVUkkgaXMgbm90IHByb3ZpZGVkLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCBAbmFtZXNwYWNlIHJ1bGUgYXMgYSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZpbmVOYW1lc3BhY2UgPSAocHJlZml4LCB1cmkpID0+IHtcbiAgaWYgKCF1cmkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSSSBmb3IgbmFtZXNwYWNlIGlzIHJlcXVpcmVkLicpO1xuICB9XG5cbiAgY29uc3QgbmFtZXNwYWNlUHJlZml4ID0gcHJlZml4ID8gYCR7cHJlZml4fSBgIDogJyc7XG4gIHJldHVybiBgQG5hbWVzcGFjZSAke25hbWVzcGFjZVByZWZpeH11cmwoJHt1cml9KTtgO1xufTtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZU5hbWVzcGFjZSIsICIvKipcbiAqIERlZmluZXMgYSBDU1MgQHBhZ2UgcnVsZSB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCBzdHlsZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGFnZSBydWxlLlxuICogQHBhcmFtIHtvYmplY3R9IHN0eWxlcyAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBDU1MgcHJvcGVydGllcyBhbmQgdmFsdWVzLlxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBzdHlsZXMgaXMgbm90IGFuIG9iamVjdC5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBhIHByb3BlcnR5IGlzIG5vdCBhbGxvd2VkIHdpdGhpbiBAcGFnZSBydWxlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCBAcGFnZSBydWxlIGFzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgY29uc3QgZGVmaW5lUGFnZSA9IChuYW1lLCBzdHlsZXMpID0+IHtcbiAgaWYgKHR5cGVvZiBzdHlsZXMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3R5bGVzIG11c3QgYmUgYW4gb2JqZWN0LicpO1xuICB9XG5cbiAgY29uc3Qgc3R5bGVFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoc3R5bGVzKS5tYXAoKFtwcm9wZXJ0eSwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKCEvXm1hcmdpbi18XmJvcmRlci18XnBhZGRpbmctfF5iYWNrZ3JvdW5kLXxeZm9udC18XnRleHQtfF5jb2xvciR8Xm91dGxpbmUkfF5jb3VudGVyLXxed2lkdGgkfF5oZWlnaHQkfF5saW5lLWhlaWdodCR8XnF1b3RlcyR8XnZpc2liaWxpdHkkLy50ZXN0KHByb3BlcnR5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9wZXJ0eSBcIiR7cHJvcGVydHl9XCIgaXMgbm90IGFsbG93ZWQgd2l0aGluIEBwYWdlIHJ1bGUuYCk7XG4gICAgfVxuICAgIHJldHVybiBgJHtwcm9wZXJ0eX06ICR7dmFsdWV9O2A7XG4gIH0pLmpvaW4oJyAnKTtcblxuICBjb25zdCBwYWdlUnVsZSA9IGBAcGFnZSAke25hbWV9IHsgJHtzdHlsZUVudHJpZXN9IH1gO1xuXG4gIHJldHVybiBwYWdlUnVsZTtcbn07XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVQYWdlOyIsICIvKipcbiAqIERlZmluZXMgYSBzdGFydGluZyBzdHlsZSBmb3IgYSBzZWxlY3Rvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgdG8gd2hpY2ggdGhlIHN0YXJ0aW5nIHN0eWxlIHdpbGwgYmUgYXBwbGllZC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIENTUyBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIEBzdGFydGluZy1zdHlsZSBydWxlIGFzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgY29uc3QgZGVmaW5lU3RhcnRpbmdTdHlsZSA9IChzZWxlY3RvciwgcHJvcGVydGllcykgPT4ge1xuICBjb25zdCBwcm9wZXJ0eUVudHJpZXMgPSBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKS5tYXAoKFtwcm9wZXJ0eSwgdmFsdWVdKSA9PiB7XG4gICAgcmV0dXJuIGAke3Byb3BlcnR5fTogJHt2YWx1ZX07YDtcbiAgfSkuam9pbignICcpO1xuXG4gIGNvbnN0IHN0YXJ0aW5nU3R5bGVSdWxlID0gYEBzdGFydGluZy1zdHlsZSB7XFxuICAke3NlbGVjdG9yfSB7ICR7cHJvcGVydHlFbnRyaWVzfSB9XFxufWA7XG5cbiAgcmV0dXJuIHN0YXJ0aW5nU3R5bGVSdWxlO1xufTtcbmV4cG9ydCBkZWZhdWx0IGRlZmluZVN0YXJ0aW5nU3R5bGU7IiwgIi8qKlxuICogRGVmaW5lcyBhIENTUyBAc3VwcG9ydHMgcnVsZS5cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gc3VwcG9ydHNDb25kaXRpb24gLSBBbiBhcnJheSBvZiBjb25kaXRpb25zIHRoYXQgdGhlIGJyb3dzZXIgbXVzdCBzdXBwb3J0LlxuICogQHBhcmFtIHtvYmplY3R9IHJ1bGVzIC0gQW4gb2JqZWN0IG1hcHBpbmcgc2VsZWN0b3JzIHRvIHRoZWlyIHJlc3BlY3RpdmUgc3R5bGUgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgQHN1cHBvcnRzIHJ1bGUgYXMgYSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZpbmVTdXBwb3J0cyA9IChzdXBwb3J0c0NvbmRpdGlvbiwgcnVsZXMpID0+IHtcbiAgY29uc3QgY29uZGl0aW9uU3RyaW5nID0gc3VwcG9ydHNDb25kaXRpb24ubWFwKGNvbmRpdGlvbiA9PiBgKCR7Y29uZGl0aW9ufSlgKS5qb2luKCcgYW5kICcpO1xuICBjb25zdCBydWxlc1N0cmluZyA9IE9iamVjdC5lbnRyaWVzKHJ1bGVzKS5tYXAoKFtzZWxlY3Rvciwgc3R5bGVzXSkgPT4ge1xuICAgIGNvbnN0IHN0eWxlU3RyaW5nID0gT2JqZWN0LmVudHJpZXMoc3R5bGVzKS5tYXAoKFtwcm9wZXJ0eSwgdmFsdWVdKSA9PiBgJHtwcm9wZXJ0eX06ICR7dmFsdWV9O2ApLmpvaW4oJyAnKTtcbiAgICByZXR1cm4gYCR7c2VsZWN0b3J9IHsgJHtzdHlsZVN0cmluZ30gfWA7XG4gIH0pLmpvaW4oJyAnKTtcblxuICByZXR1cm4gYEBzdXBwb3J0cyAke2NvbmRpdGlvblN0cmluZ30geyAke3J1bGVzU3RyaW5nfSB9YDtcbn07XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVTdXBwb3J0czsiLCAiaW1wb3J0IGNoYXJzZXRzIGZyb20gJy4vQGNoYXJzZXQuanMnO1xuaW1wb3J0IGNvbG9yUHJvZmlsZXMgZnJvbSAnLi9AY29sb3Jwcm9maWxlLmpzJztcbmltcG9ydCBjb250YWluZXIgZnJvbSAnLi9AY29udGFpbmVyLmpzJztcbmltcG9ydCBwcm9wZXJ0eSBmcm9tICcuL0Bwcm9wZXJ0eS5qcyc7XG5pbXBvcnQgY291bnRlclN0eWxlcyBmcm9tICcuL0Bjb3VudGVyc3R5bGUuanMnO1xuaW1wb3J0IGZvbnRGYWNlcyBmcm9tICcuL0Bmb250ZmFjZS5qcyc7XG5pbXBvcnQgZm9udEZlYXR1cmVWYWx1ZXMgZnJvbSAnLi9AZm9udGZlYXR1cmV2YWx1ZXMuanMnO1xuaW1wb3J0IGZvbnRQYWxldHRlVmFsdWVzIGZyb20gJy4vQGZvbnRwYWxsZXRldmFsdWVzLmpzJztcbmltcG9ydCBpbXBvcnRlciBmcm9tICcuL0BpbXBvcnQuanMnO1xuaW1wb3J0IGtleWZyYW1lcyBmcm9tICcuL0BrZXlmcmFtZXMuanMnO1xuaW1wb3J0IGxheWVyIGZyb20gJy4vQGxheWVyLmpzJztcbmltcG9ydCBtZWRpYSBmcm9tICcuL0BtZWRpYS5qcyc7XG5pbXBvcnQgbmFtZXNwYWNlIGZyb20gJy4vQG5hbWVzcGFjZS5qcyc7XG5pbXBvcnQgcGFnZXMgZnJvbSAnLi9AcGFnZS5qcyc7XG5pbXBvcnQgc3RhcnRpbmdTdHlsZXMgZnJvbSAnLi9Ac3RhcnRpbmdzdHlsZS5qcyc7XG5pbXBvcnQgc3VwcG9ydHMgZnJvbSAnLi9Ac3VwcG9ydHMuanMnO1xuXG5leHBvcnQge1xuICBjaGFyc2V0cyxcbiAgY29sb3JQcm9maWxlcyxcbiAgY29udGFpbmVyLFxuICBwcm9wZXJ0eSxcbiAgY291bnRlclN0eWxlcyxcbiAgZm9udEZhY2VzLFxuICBmb250RmVhdHVyZVZhbHVlcyxcbiAgZm9udFBhbGV0dGVWYWx1ZXMsXG4gIGltcG9ydGVyLFxuICBrZXlmcmFtZXMsXG4gIGxheWVyLFxuICBtZWRpYSxcbiAgbmFtZXNwYWNlLFxuICBwYWdlcyxcbiAgc3RhcnRpbmdTdHlsZXMsXG4gIHN1cHBvcnRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNoYXJzZXRzLFxuICBjb2xvclByb2ZpbGVzLFxuICBjb250YWluZXIsXG4gIHByb3BlcnR5LFxuICBjb3VudGVyU3R5bGVzLFxuICBmb250RmFjZXMsXG4gIGZvbnRGZWF0dXJlVmFsdWVzLFxuICBmb250UGFsZXR0ZVZhbHVlcyxcbiAgaW1wb3J0ZXIsXG4gIGtleWZyYW1lcyxcbiAgbGF5ZXIsXG4gIG1lZGlhLFxuICBuYW1lc3BhY2UsXG4gIHBhZ2VzLFxuICBzdGFydGluZ1N0eWxlcyxcbiAgc3VwcG9ydHMsXG59Il0sCiAgIm1hcHBpbmdzIjogIjtBQU1PLElBQU0sVUFBVSxrQkFBZ0IsYUFBYSxZQUFZO0FBQ2hFLElBQU8sa0JBQVE7OztBQ0RSLElBQU0scUJBQXFCLENBQUMsTUFBTSxLQUFLLG9CQUFvQjtBQUNoRSxNQUFJLGNBQWMsa0JBQWtCLElBQUk7QUFBQSxjQUFvQixHQUFHO0FBRS9ELE1BQUksaUJBQWlCO0FBQ25CLG1CQUFlO0FBQUEsc0JBQTBCLGVBQWU7QUFBQSxFQUMxRDtBQUVBLGlCQUFlO0FBRWYsU0FBTztBQUNUO0FBQ0EsSUFBTyx1QkFBUTs7O0FDVlIsSUFBTSx1QkFBdUIsQ0FBQyxNQUFNLFdBQVcsV0FBVztBQUMvRCxNQUFJLGdCQUFnQixjQUFjLE9BQU8sT0FBTyxNQUFNLEVBQUUsSUFBSSxTQUFTO0FBQUEsRUFBUSxNQUFNO0FBQUE7QUFDbkYsU0FBTztBQUNUO0FBQ0EsSUFBTyxvQkFBUTs7O0FDSFIsSUFBTSxtQkFBbUIsQ0FBQyxNQUFNLFFBQVEsVUFBVSxpQkFBaUI7QUFDeEUsU0FBTztBQUFBLElBQ0wsQ0FBQyxhQUFhLElBQUksRUFBRSxHQUNsQixPQUNDLENBQUMsU0FDRCxDQUFDLFdBQ0QsQ0FBQyxlQUNGO0FBQUEsRUFFSjtBQUNGO0FBQ0EsSUFBTyxtQkFBUTs7O0FDWlIsSUFBTSxxQkFBcUIsQ0FBQyxNQUFNLFVBQVU7QUFDakQsTUFBSSxDQUFDLFdBQVcsUUFBUSxVQUFVLFVBQVUsbUJBQW1CLG1CQUFtQixFQUFFLFNBQVMsS0FBSyxZQUFZLENBQUMsR0FBRztBQUNoSCxVQUFNLElBQUksTUFBTSxhQUFhLElBQUksNkNBQTZDO0FBQUEsRUFDaEY7QUFFQSxRQUFNLGNBQWMsT0FBTyxRQUFRLEtBQUssRUFBRSxJQUFJLENB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